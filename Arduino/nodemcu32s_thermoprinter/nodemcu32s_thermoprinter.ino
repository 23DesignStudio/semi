#include <SoftwareSerial.h>
//#include"C:\Users\asus\Desktop\image_high.h"
#define TX_PIN
#define RX_PIN
SoftwareSerial mySerial(RX_PIN,TX_PIN); //RX, TX

const char chinese[][32] = { //中文
 0x1b,0x40, //初始化
 //0x1b,0x42,0x14, //設置左邊間距 1b 42 n
 //0x1b,0x33,0x30, //設置行間距為 n 點行 1b 33 n(n x 0.125mm / 0 <= n <= 255)
 //0x1b,0x7b,0x01, //設置顛倒 1b 7b 01/00
 //0x1b,0x61,0x02, //設置對齊 1b 61 n (n = 0 左 / n = 1 中 / n = 2 右)
 //0x1d,0x21,0x77, //設置字符大小
 //0x1c,0x21,0x04, //允許中文倍寬模式
 //0x1c,0x21,0x08, //允許中文倍高模式
 //0x1c,0x21,0x80, //允許中文底線模式
 //0x1b,0x21,0x10, //設置倍高模式
 //0x1b,0x21,0x20, //設置倍寬模式
 //0x1b,0x21,0x80, //設置底線
 0xB6,0xFE, //二
 0xC8,0xFD, //三
 0xD4,0x4F, //設
 0xD3,0x8B, //計
 0x0d,0x0a,
 0x1b,0x40,
 0x32,0x33,0x53,0x44,0x65,0x73,0x69,0x67,0x6E, //23Design
 //0x0d,0x0a, //0d 打印歸位 0a 打印換行
};
const char test_1[] = { //設置絕對打印位置測試 1b 24 nL nH
 0x1b,0x40,
 0x1b,0x24,0x0c,0x00,0x30,0x31,0x32,0x0d,0x0a,
 0x1b,0x24,0x18,0x00,0x30,0x31,0x32,0x0d,0x0a,
 0x1b,0x24,0x24,0x00,0x30,0x31,0x32,0x0d,0x0a,
 0x1b,0x24,0x30,0x00,0x30,0x31,0x32,0x0d,0x0a,
 0x1b,0x24,0x24,0x00,0x30,0x31,0x32,0x0d,0x0a,
 0x1b,0x24,0x18,0x00,0x30,0x31,0x32,0x0d,0x0a,
 0x30,0x31,0x32,0x0d,0x0a,
};
const char  test_2[] = { //設置打印模式測試 1b 21 n
 0x1b,0x40,
 0x1b,0x21,0x00,0x30,0x31,0x32,0x0d,0x0a, //字符字型(12x24)
 0x1b,0x21,0x01,0x30,0x31,0x32,0x0d,0x0a, //字符字型(9x17)對中文無效
 0x1b,0x21,0x08,0x30,0x31,0x32,0x0d,0x0a, //設置粗體，對中文無效
 0x1b,0x21,0x10,0x30,0x31,0x32,0x0d,0x0a, //設置倍高模式
 0x1b,0x21,0x20,0x30,0x31,0x32,0x0d,0x0a, //設置倍寬模式
 0x1b,0x21,0x80,0x30,0x31,0x32,0x0d,0x0a, //設置底線
};
const char  test_3[] = { //設置水平定位點 1b 44 n1..nk 00(null)，null為結束點，設置最遠水平距離為30。移動打印位置到水平定位 09
 0x1b,0x44,0x04,0x06,0x08,0x1A,0x00,0x09,0x30,0x09,0x31,0x09,0x32,0x09,0x33,
 0x0d,0x0a,
};
const char  test_4[] = {
 0x1b,0x40,
 //0x1b,0x42,0x14, //設置左邊間距 1b 42 n
 //0x1b,0x0E,0x01, //設置倍寬倍高模式 1b 0E 01
 //0x1b,0x14,0x01, //取消倍寬倍高模式 1b 14 01
 //0x1b,0x56,0x31, //設置90度旋轉模式 1b 56 30/31
 //0x1b,0x45,0x01,   //設置粗體 1b 45 00/01
 //0x1b,0x20,0x05, //設置字符間間距(字符右側)，不影響中文 1b 20 n
 0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,
 0x0d,0x0a,
};

const char QRx[65]={ //QRcode
0x1b,0x40,
0x1d,0x28,0x6b,0x03,0x00,0x31,0x43,0x05,                                                    //設置QRcode的大小 1d 28 6b 03 00 31 43 n
0x1d,0x28,0x6b,0x03,0x00,0x31,0x45,0x30,                                                    //設置QRcode校驗水平誤差為L
0x1d,0x28,0x6b,0x17,0x00,0x31,0x50,0x30,0x68,0x74,0x74,0x70,0x73,0x3A,0x2F,0x2F,0x32,0x33,0x64,0x65,0x73,0x69,0x67,0x6E,0x2E,0x74,0x77,0x2F, //QRcode儲存網址訊息
//68 74 74 70 73 3A 2F 2F 32 33 64 65 73 69 67 6E 2E 74 77 2F = https://23design.tw/
0x1b,0x61,0x01,                                                                             //設置圖形居中
0x1d,0x28,0x6b,0x03,0x00,0x31,0x52,0x30,                                                    //校驗QRcode是否正常
0x1d,0x28,0x6b,0x03,0x00,0x31,0x51,0x30,                                                    //打印QRcode
};

void setup()
{
 mySerial.begin(9600);
 Serial.begin(9600);
 while(Serial.read()>= 0){}

 Serial.println(sizeof(show_full)/sizeof(show_full[0])); //陣列buffer計算
 mySerial.write(show_full,sizeof(show_full)/sizeof(show_full[0])); //打印圖片
 //mySerial.write(show1,758);
 //mySerial.write(show2,758);
 mySerial.println(chinese[0]);
 mySerial.write(QRx,65);
 //mySerial.write(test_4,17);
}
void loop()
{

}
